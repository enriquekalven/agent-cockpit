# ğŸš€ Production Deployment
## The "Autonomous" Standard (v1.3)

Deploying a "Well-Architected" agent requires orchestration across two primary Google Cloud environments. The Cockpit automates this through the `make deploy-prod` command.

---

## âš™ï¸ The Engine (Cloud Run)
The Python backend (FastAPI) is deployed as a serverless service.
- **Scaling**: scale-to-zero enabled.
- **Regions**: `us-central1` recommended for proximity to Vertex AI.
- **Best Practice**: Enable **Startup CPU Boost** to reduce cold-start latency (TTR).

## ğŸ§  Agent Engine (Vertex AI)
Recommended for agents that require deep integration with the Google Cloud agentic ecosystem.
- **Why**: Managed runtime, built-in tracing, and **Context Caching** support.

## â˜¸ï¸ Enterprise Engine (GKE)
Recommended for high-intensity or specialized isolation workloads.
- **Why**: Full control over networking and GPU resources.

---

## ğŸ—ï¸ 1-Click Deployment Sequence
`make deploy-prod` executes the following high-fidelity pipeline:

### Stage 1: The Quick "Safe-Build"
Runs `make audit` (~15s).
- Architecture sanity check.
- Secret leakage detection.
- Fast Red-Team (common injections).
- Token optimization audit.

### Stage 2: Face Build
Executes `npm run build` to compile the React/Vite frontend into production assets.

### Stage 3: Infrastructure Push
- Containerizes the Engine and pushes to **Artifact Registry**.
- Deploys the service to **Google Cloud Run**.
- Deploys static assets to **Firebase Hosting**.

---

## ğŸ“Š Infrastructure Decision Matrix

| Feature | Agent Engine | Cloud Run | GKE |
| :--- | :--- | :--- | :--- |
| **Orchestration** | Managed (ADK) | Custom (FastAPI) | Custom (K8s) |
| **Scaling** | Automatic | Scale-to-Zero | Dynamic / GPU |
| **Observability** | Vertex AI Traces | Cloud Logging | Prometheus / Istio |
| **Best Case** | Fast Prototyping | Standard Web Agents | High-Perf Enterprise |

---

## ğŸ›¡ï¸ v1.3: Deep System Audit
For production-gate promotion, move from "Safe-Build" to "Deep Audit":
```bash
make audit-deep
```
- Full Adversarial Red-Teaming.
- Iterative Quality Hill Climbing.
- Precision Load Testing (`make load-test`).

---

## ğŸ”‘ Secret Management
Never commit `.env` files. Use **Google Cloud Secret Manager** and map them as environment variables in Cloud Run.

---
*Generated by the AgentOps Cockpit. Sovereign Systems Division (v1.3).*
